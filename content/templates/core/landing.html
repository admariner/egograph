{% extends "base.html" %}
{% load humanize %}

{% block head %}

	{# Highlight.js #}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/base16/windows-95-light.min.css" integrity="sha512-xuY93xkCY3weJZtP8cRnMOEENhB0n7fzLXWgnGor3XEOl1xyzaUZFVJ5yphYiPgQqzc9Ah/wCZ7vLhnyTmOT4Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
{% endblock %}


{% block content %}

    {# About #}
	<div class="mb-4">
		<div class="h4 mb-3">About</div>
		<p>Have you ever noticed that when you start typing something into Google it will attempt to autocomplete your query? This project uses those autocomplete suggestions to create a multi-level network graph from each query. For example, try the word <a href="{% url 'search:results' 'blueberry' %}">blueberry</a>.</p>
	</div>

	{# Stats #}
	<div class="mb-4">
		<div class="h4 mb-3">Statistics</div>
		{##}
		<div class="row row-cols-2 gx-3 gx-md-4">
			{% for stat_name, stat_value in stats.items %}
				<div class="col">
					<ul class="list-group">
						<li class="list-group-item d-flex justify-content-between align-items-center">
							{{stat_name}} <span>{{stat_value|intcomma}}</span>
						</li>
					</ul>
				</div>
			{% endfor%}
		</div>
	</div>

    {# Export #}
	<div class="mb-4">
		<div class="d-flex justify-content-between mb-3">
			<div class="h4 mb-0">Data Access</div>
			<a href="{% url 'export:edgelist' %}" class="btn btn-outline-primary btn-sm" role="button">Download Edge List</a>
		</div>
		<ul class="mt-3">
			<li>
				Gephi - Select File/Import Spreadsheet, then import the table as "Edges Table". <a href="https://github.com/gephi/gephi/issues/796" target="_blank" rel="noopener">Instructions</a>
			</li>

			<li>NodeXL</li>
			<li>Pajek</li>
			<li>NetMiner</li>
			<li>Social Network Visualizer - Open the file and when asked the type select "Edge List (weighted)".</li>
			<li>
				NetworkX
<pre><code class="language-python"># Import NetworkX
import networkx as nx
# Read edgelist
edgelist = []
with open('edgelist.edges', encoding='utf-8') as f:
	reader = csv.reader(f, delimiter=' ')
	next(reader) # Skip header
	for row in reader:
		edgelist.append((row[0], row[1], {'weight': row[2]}))
# Make graph
G = nx.MultiDiGraph(edgelist)
</code></pre>	
			</li>
		</ul>

    </div>

{% endblock %}


{% block js %}

	{# Add hightlight.js for code formatting #}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	{# Page-specific JS #}
    <script>

		// Highlight code
		hljs.highlightAll();

        // Show alert
        {% if alert %}
        alert.show('{{alert}}');
        {% endif %}

    </script>

{% endblock %}